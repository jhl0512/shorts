<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Shorts</title>
  <link rel="stylesheet" href="youtube_sample_globals.css" />
  <link rel="stylesheet" href="yotuube_sample.css" />
  <style>
    body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; }
    #container { height: 100vh; overflow-y: auto; scroll-snap-type: y mandatory; }
    #container::-webkit-scrollbar { display: none; }
    #loading { text-align: center; padding: 8px; background: #fff; color: #333; font-size: 0.9rem; }
  </style>
</head>
<body>
<div id="container">
  <div class="video" id="video-template">
    <div class="top">TOP BAR</div>
    <div class="body">
      <div class="left">
        <div class="id"><div class="ellipse"></div><div class="id-text"></div></div>
        <p class="title-text"></p>
        <div class="music"><div class="music-text"></div></div>
      </div>
      <div class="right">
        <button class="button"><div class="text-wrapper">LIKE</div></button>
        <button class="button"><div class="text-wrapper">싫어요</div></button>
        <button class="button"><div class="text-wrapper">999</div></button>
      </div>
    </div>
  </div>
  <div id="loading">로딩 중...</div>
</div>

<!-- ✅ JSON 데이터 로딩 -->
<script src="땅울림.js"></script>
<script>
const container = document.getElementById('container');
const loading = document.getElementById('loading');
const template = document.getElementById('video-template');
template.removeAttribute('id'); container.removeChild(template);

function createPost(data) {
  const post = template.cloneNode(true);
  const bg = document.createElement('video');
  bg.className = 'video-bg';
  bg.src = data['MP4 URL'];
  bg.autoplay = true;
  bg.loop = true;
  bg.playsInline = true;
  bg.muted = true;
  post.prepend(bg);
  post.querySelector('.id-text').textContent = data['ID'];
  post.querySelector('.title-text').textContent = data['TITLE'];
  post.querySelector('.music-text').textContent = data['MUSIC'];
  return post;
}

videoData.forEach(row => container.appendChild(createPost(row)));
loading.style.display = 'none';
</script>
</body>
</html>
